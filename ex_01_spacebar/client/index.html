<head>
    <title>ex 01 spacebar</title>

    <meta charset="utf-8" />
    <!-- 모바일용웹 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- 안드로이드 홈화면추가시 상단 주소창 제거 -->
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="icon" href="/img/favicon.ico">
    <!-- ios홈화면추가시 상단 주소창 제거 -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="apple-touch-icon" href="/img/favicon.ico">

</head>

<body style="margin: 0px;">
{{>main}}
</body>

<template name="main">

    <div>
        {{test_spacebars}}
    </div>

    <div>
        {{{test_spacebars}}}
    </div>


    <form name="testform">
        <label> cast one just red,blue,green </label>
        <div>
            <input id="testval" value="yo~" >
        </div>

        <div>
            <button name="ok"> ok </button>
            <button name="cancel"> cancel </button>
        </div>
    </form>

    <div name="resultbox">
        {{#if equalTo (getValue "_iftest")  "red" }}
            <div style="background-color: red"></div>
        {{else if equalTo (getValue "_iftest") "blue"}}
            <div style="background-color: blue"></div>
        {{else if equalTo (getValue "_iftest") "green"}}
            <div style="background-color: green"></div>
        {{else}}
            <div style="background-color: gray"></div>
        {{/if}}
    </div>

    <h2> access array 1 </h2>
    <div>
        {{test_array.[0]}},{{test_array.[1]}}
    </div>

    <h2> access array 2 </h2>
    <div>
        {{eachTest.[0].name}},{{eachTest.[1].name}}
    </div>


<!--    참고 자료
    //https://stackoverflow.com/questions/24225071/how-can-i-get-the-index-of-an-array-in-a-meteor-template-each-loop -->
    <h2> each test </h2>
    {{#each eachTest}}
        <div> index : {{@index}}, name : {{name}},color code :{{this.color}}</div>
    {{/each}}

    <!--참고자료
    //https://forums.meteor.com/t/each-problems-how-to-iterate-from-array/33564 -->
    <h2> each in test </h2>
    {{#each item in eachTest}}
        {{#if equalTo (getColor item) "red"}}
            <div style="background-color: red; color : yellow;width: 48px;" >{{item.name}}</div>
        {{else if equalTo (getColor item) "blue"}}
            <div style="background-color: blue; color: white; width: 64px;" >{{item.name}}</div>
        {{else if equalTo (getColor item) "green"}}
            <div style="background-color: green; color: yellow; width: 96px; " >{{item.name}}</div>
        {{/if}}
    {{/each}}


    <h2> with test </h2>
    {{#with withTest}}
        <div> name : {{name}} </div>
        <div> call : {{call}} </div>
    {{/with}}

</template>
